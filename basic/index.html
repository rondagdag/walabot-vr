<html>
  <head>
    <title>A-Frame Broadcast Component - Basic</title>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="lib/aframe-interpolate-component.min.js"></script>    
    <script src="https://rawgit.com/rondagdag/aframe-broadcast-component/master/dist/aframe-broadcast-component.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.3.4/dist/aframe-extras.min.js"></script>
    <script src="components/follow.js"></script>
  </head>
  <body>
    <a-scene broadcast="url: http://localhost:12000">

     <a-assets>
        <img id="sky" src="img/sky.jpg" crossorigin="anonymous" />
        <a-asset-item id="grass" src="img/grass.jpg"></a-asset-item>


        <a-asset-item id="bunnyrabbit-obj" src="models/bunnyrabbit.obj"></a-asset-item>
        <a-asset-item id="bunnyrabbit-mtl" src="models/bunnyrabbit.mtl"></a-asset-item>


        <a-asset-item id="pinkegg-obj" src="/models/egg.obj"></a-asset-item>
        <a-asset-item id="pinkegg-mtl" src="/models/pinkegg.mtl"></a-asset-item>

        <a-asset-item id="orangeegg-obj" src="/models/egg.obj"></a-asset-item>
        <a-asset-item id="orangeegg-mtl" src="/models/orangeegg.mtl"></a-asset-item>

        <a-asset-item id="greenegg-obj" src="/models/egg.obj"></a-asset-item>
        <a-asset-item id="greenegg-mtl" src="/models/greenegg.mtl"></a-asset-item>


     </a-assets>

      <a-entity camera look-controls wasd-controls 
                broadcast="send: position, rotation, obj-model"                                
                obj-model="obj: #bunnyrabbit-obj; mtl: #bunnyrabbit-mtl"
                material="color: #222"                
                position="0 8 0">
      </a-entity>

      <a-sphere color="#FFF" radius="0.2" shader="flat" position="0 0.2 0"></a-sphere>


      <a-entity position="0 0 0" static-body
        geometry="primitive: plane; width: 10000; height: 10000;" rotation="-90 0 0"
        material="src: #grass; repeat: 10000 10000; transparent: true; metalness:0.6; roughness: 0.4; sphericalEnvMap: #sky;"></a-entity>
      

      <a-sky src="#sky" rotation="0 -90 0"></a-sky>

    </a-scene>
  </body>
</html>
